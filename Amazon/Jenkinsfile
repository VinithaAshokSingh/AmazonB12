pipeline {
    agent any

    stages {

        stage('Clean') {
            steps {
                echo "ğŸ§¹ Stage: Clean â€” Removing previous build files..."
                sh "mvn clean"
            }
        }

        stage('Compile') {
            steps {
                echo "ğŸ“Œ Stage: Compile â€” Compiling source code..."
                sh "mvn compile"
            }
        }

        stage('Test') {
            steps {
                echo "ğŸ§ª Stage: Test â€” Executing unit tests..."
                sh "mvn test"
            }
        }

        stage('Build') {
            steps {
                echo "ğŸ—ï¸ Stage: Build â€” Packaging the application..."
                sh "mvn package"
            }
        }

        stage('Deploy') {
            steps {
                echo "ğŸš€ Stage: Deploy â€” Deploying the application..."
                echo "ğŸ“ (Deployment placeholder â€” only echo)"
            }
        }
    }

    post {
        success {
            echo "ğŸ‰ SUCCESS: The Pipeline executed successfully!"
            echo "ğŸ“Œ ACTION: You can now access the deployed app in the server!"
        }
        failure {
            echo "âŒ FAILURE: The Pipeline Failed!"
            echo "ğŸ› ï¸ ACTION: Check the console logs, fix the issue, and re-run."
        }
        always {
            echo "ğŸ”„ ALWAYS: Cleaning temp resources..."
            echo "ğŸ“Œ Pipeline Finished (Either Success or Failure)"
        }
    }
}
